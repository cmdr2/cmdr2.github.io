{{ $ctx := .Context }}
{{ $pages := .Pages }}

<div class="post_list">
  {{ if gt (len $pages) 0 }}
    {{ $paginator := $ctx.Paginate ($pages.ByDate.Reverse) }}
    {{ range $paginator.Pages }}
      <article class="post">
        <time class="date"><a href="{{ .RelPermalink }}">{{ .Date.Format "Mon Jan 02 15:04 2006" }}</a></time>
        <div class="post_content">
          {{ with .Params.tags }}<ul class="tags">{{ range . }}<li class="tag">#{{ . }}</li>{{ end }}</ul>{{ end }}
          <p>{{ .Summary | replaceRE "\\<p\\>// Cross-posted from .* blog</a>\\.\\<\\/p\\>" "" | plainify }}</p>
        </div>
      </article>
    {{ end }}
    {{ template "_internal/pagination.html" $ctx }}
  {{ else }}
    <!-- no posts -->
  {{ end }}
</div>
